# Singleton

싱글톤은 객체의 인스턴스를 하나만 생성하도록 도와주는 디자인 패턴 입니다.
또한 전역적으로의 접근도 제공하게 됩니다.

왜 객체가 하나만 필요한데?

예를들어 객체가 두 개 이상일 때 예상하지 않은 결과를 리턴한다거나 자원을 불필요하게 잡아먹는등 객체를 아토믹하게 관리했을 때 더 좋은 결과를 낳는 경우가
프로그래밍을 하다보면 있을 수 있습니다.
이런 경우에 싱글톤을 유용하게 사용할 수 있죠.

## 구현 방법

싱글톤을 구현하는 방법은 간단합니다.

```Swift
class Singleton {
 static let shared = SingleTon()
 private init() { }
}
```

위와같이 싱글톤 클래스를 하나 만들어주고 전역적으로 접근할 수 있는 유일무이한 싱글톤 인스턴스 객체를 할당합니다.
(전통적으로 shared 라는 이름을 많이 사용하곤 합니다.)
그리고 생성자를 private으로 감싸는 것으로 싱글톤 완성 입니다!

여기에서 class 를 사용해야하는 이유가 있습니다.
struct로 싱글톤 객체를 관리하게되면 싱글톤 객체를 다른 변수에 할당하고 값을 수정하게 되면 또는 그냥 할당하는 것 만으로도 새로운 싱글톤 객체가 생성되어버리기 때문에
싱글톤의 의미가 퇴색되어버립니다.

따라서 싱글톤을 만든다면 무조건 class로 만들어야 합니다.

## 지연 생성

싱글톤은 또한 객체를 지연하여 생성할 수 있다는 장점이 있습니다.
만약 객체를 초기화하는데 시간이 오래 걸린다거나 객체가 많은 자원을 잡아먹는 경우에 지연생성하는 것이 의미가 있겠습니다.

이는 전역적으로 변수를 아토믹하게 사용하는것의 한계점을 해결해줄 수 있습니다.

Swift에서는 다른 언어들처럼 별다른 뻘짓을 안 해줘도 위에서 보여드린대로

```Swift
static let shared = SingleTon()
```

이렇게만 해주면 알아서 지연로딩 됩니다.
참 편하죠?

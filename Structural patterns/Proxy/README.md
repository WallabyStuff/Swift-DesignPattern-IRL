# Proxy

프록시 패턴은 어떤 객체를 가지고 내가 직접 컨트롤하지 않고 다른 객체를 통해서 간접적으로 컨트롤하는 패턴을 의미합니다.
예를들어 A라는 객체의 함수를 직접 호출하지 않고 B라는 객체가 instance로 A 객체를 가지고 있고 사용자는 B 객체를 통해서 A 객체의 함수를 호출하게 되는 겁니다.

그렇기에 Proxy 패턴의 특징으로는 A의 동작들을 정의하고있는 프로토콜을 B 객체도 동일하게 채택하고 있다는 겁니다.

```Swift
protocol A_Protocol {
 func doSomething()
}

struct A: A_Protocol {
 func doSomething() { ... }
}

struct Proxy: A_Protocol {  // 👈 이렇게 말이죠!

 let a: A                // 그리고 프록시에서는 대리 호출할 객체를 인스턴스로 가지고 있어야 합니다. (그래야 대리 호출을 하던 뭐든 하겠죠?)

 func doSomething() {
  a.doSomething()
 }
}
```

이게 Proxy 패턴의 큰 골자 입니다.

이런 Proxy의 구조적인 특징 덕분에 다양한 용도로 사용될 수 있는데요?
크게 다음과 같은 용도로 많이 사용됩니다.

- **접근 제어**
- **지연 초기화**
- **캐싱**

이 외에도 원격, 스마트 참조 등 다양하게 더 있는데 약간 예시로 다루기에 애매한 감이 있어서 뺐습니다.

방금 언급한 접근제어, 지연 초기화, 캐싱, 추가기능 목적들에는 또 화려한 이름들이 붙여져 있습니다.

- 접근제어 ->     보호 프록시 (**Protection Proxy**)
- 지연 초기화 -> 가상 프록시 (**Virtual Proxy**)
- 캐싱 ->            캐싱 프록시 (**Caching Proxy**)

디자인 패턴에서 화려한 네이밍들은 정말 없으면 안되나봅니다.
아무튼 이 다양한 프록시 양상들을 하나씩 예시와 함께 설명 드리도록 하겠습니다.
